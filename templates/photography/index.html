{% extends 'photography/includes/base.html' %}

{% block content %}


<div id="scene" class="carousel slide" data-ride="carousel">
  <!-- Indicators -->
  <ol class="carousel-indicators">
    {% for album in albums %}
    <li data-target="#scene" data-slide-to="{{album.id}}"></li>
    {% endfor %}
  </ol>

	<!-- Wrapper for slides -->
	<div class="carousel-inner layer" role="listbox">
    {% for album in albums %}
		<div class="item">
      <div class="fill layer" data-depth="0.40" style="background-image:url('../media/{{album.album_cover}}'); background-size: cover;"></div>
		</div>
    {% endfor %}

	</div>

  <section>
      <nav class="nav-circlepop">
          <a class="prev" href="#scene" data-slide="prev">
              <span class="icon-wrap"></span>
          </a>
          <a class="next" href="#scene" data-slide="next">
              <span class="icon-wrap"></span>
          </a>
      </nav>
  </section>



</div><!-- end of carousel -->




<div id="triangle-topleft">
  <p class="rotate-text" id="my-albums">Places</p>
</div>


<div>
<div class="grid gridLoading effect-2" id="gridLoading">
  {% for album in albums %}
  <figure class="effect-milo">
  <img src="..{{album.album_cover_thumbnail.url}}" alt=""/>
    <figcaption>
      <h2><span>{{album.name}}</span></h2>
      <p>Steve was afraid of the Boogieman.</p>
      <a href="/albums/{{album.get_absolute_url}}">View more</a>
    </figcaption>			
  </figure>
  {% endfor %}
</div>
</div>


<script src="../../static/js/imagesLoaded.pkgd.min.js"></script>
<script src="../../static/js/AnimOnScroll.js"></script>
<script src="../../static/js/parallax.js"></script>

<script type="text/javascript" charset="utf-8">


  new AnimOnScroll( document.getElementById( 'gridLoading' ), {
    minDuration : 0.4,
    maxDuration : 0.7,
    viewportFactor : 0.2
  });
  

  var stickyTriangle = $('#triangle-topleft').offset().top;
  $(window).resize(function() {
    stickyTriangle = $('#triangle-topleft').offset().top;

  });

  $(window).scroll(function(event){
      if ($(window).scrollTop() > stickyTriangle) {
          $('#triangle-topleft').addClass('affix');
      }
      else {
          $('#triangle-topleft').removeClass('affix');
      }  
  });


  var scene = document.getElementById('scene');
  var parallax = new Parallax(scene);





  $('.button-toggle-navigation').on('click', function() {
    $(this).toggleClass('isActive');
    if ($(this).hasClass('isActive')) {
      $('.top-menu-bar').css('background', 'transparent');
    }
    else {
      $('.top-menu-bar').css('background', '#fff');
      
    }

  });
</script>
{% endblock %}


{% block customstyle %}

  <style>
    .top-menu-bar {
      background: #fff;
    }
  </style>
{% endblock %}



